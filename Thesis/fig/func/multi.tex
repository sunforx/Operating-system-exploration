\documentclass{standalone}
  \usepackage{xeCJK}
  \usepackage{tikz}
  \usetikzlibrary{shapes.geometric, arrows.meta, arrows,positioning}
  \newcommand*{\h}{\hspace{5pt}}% for indentation
  \newcommand*{\hh}{\h\h}% double indentation
  \tikzstyle{arrow} = [->,>=stealth]

  \begin{document}
    \begin{tikzpicture}
      [auto,
      block/.style={rectangle, draw=black, thick,
      text width=10em,align=center, rounded corners,
      minimum height=4em},
      block_left/.style ={rectangle, draw=black, thick, fill=white,
      text width=12em, text ragged, minimum height=4em, inner sep=6pt},
      line/.style={draw, thick, shorten >=2pt, ->}]
    
      \matrix [column sep=5mm,row sep=7mm]
      {
        \node [block] (start) {start}; \\
        \node [block_left] (init) { \\
          task\_init() \\
          \hh memman\_alloc\_4k() \\
          \hh task\_alloc() \\
          \hh task\_add() \\
          \hh task\_switchsub() \\
          \hh timer\_alloc() \\
        };  \\
        \node [block] (run) {task\_run()}; \\
        \node [block] (sleep)[below=of run] {task\_sleep()}; 
        % \node [block] (add) [left=of sleep]{task\_add()}; 
        \node [block] (switch) [right=of sleep]{task\_switch()}; \\
      };
      \begin{scope}[every path/.style=line]
        \path (start) -- (init);
        \path (init) -- (run);
        \path (run) -- node {多任务定时器超时} (switch);
        \path (run) -- node {无输入} (sleep);
        % \path (sleep) -- (add);
        % \path (add) |- (run);
        \path (sleep.west) -- ++(-20mm,0) |- node [above]{接收到输入数据} (run);
        \path (switch.east) -- ++(10mm,0) |- node [above]{重新定时} (run);
      \end{scope}
    \end{tikzpicture}
  \end{document}
  %%% Local Variables:
  %%% mode: latex
  %%% TeX-master: t
  %%% End:
  